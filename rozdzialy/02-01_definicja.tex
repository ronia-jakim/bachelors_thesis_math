Take $G=\langle S\;|\;R\rangle$ to be the Wirtinger presentation of $G$ obtained from oriented diagram $D$ (see \cref{wirtinger presentation}). Because $K$ is a knot and not a link, we know that the number of segments is equal to the number of crossings.

\begin{lemma}\label{ilosc segmentow to ilosc skrzyzowan}\hl{
  If $K$ is a knot and $D$ its diagram with $x>0$ crossings and $s>1$ segments, then $s=x$.}
\end{lemma}

\begin{proof}\hl{
  Every crossing has two segments that disappear under it. Let $d$ be the number of segment ends that go below a crossing then}
  $$2\cdot x=d.$$ \hl{
  Every segment starts and ends in some crossing, thus}
  $$2\cdot s=d.$$\hl{
  From those two equalities we have that $d=2x=2s\implies x=s$.}
\end{proof}

Let $a_1,...,a_n$ be the generators of $G$ \hl{agreeing with the orientation of the diagram $D$} and $x_1,...,x_n$ its relations. The homomorphism of abelianization of $G$ is defined by 
$$a_i\mapsto 1\in\Z$$ 
for every $i=1,...,n$. 
In order to obtain a presentation of $K_G$, the kernel of abelianization, we need to change the set of generators of $G$ to 
$$\{a_1, A_2=a_2a_1^{-1},..., A_n=a_na_1^{-1}\}.$$

\begin{proposition}[presentation of $K_G$]\label{presentation of KG}
  The group $K_G$ has an infinite presentation with generators
  $$\{b_{i,k}=a_1^kA_ia_1^{-k}\;:\;i=2,...,n,\;k\in\Z\}$$
  and relations 
$$
b_{k, x}=b_{i, x}b_{j, x-1}b_{i, x-1}^{-1}
$$
for $k\in\Z$, where $a_k=a_ia_ja_i^{-1}$ was a relation in $G$.
\end{proposition}

\begin{proof}
To begin with, $(\forall\;i>1)\;A_i\mapsto0$ by abelianization of $G$. Thus $A_2,...,A_n$ are some of the generators of $K_G$. However, for each $i=2,...,n$ and $k\in\Z$ the following is an element of $K_G$:
$$b_{i, k}:=a_1^k A_i a_1^{-k}.$$
Thus, the presentation of $K_G$ as an abelian group is infinite with (possibly redundant) generators 
$$\{b_{i,k}\;:\;i=2,...,n,\;k\in\Z\}.$$

Changing generators of $G$ induced a change in relations. Suppose that the following relation was true in $G$
$$a_k=a_ia_ja_i^{-1}.$$
If $1\notin\{i,k,j\}$ then after the change of generators the relation is
$$ A_ka_1 = A_ia_1 A_ja_1 (A_ia_1)^{-1}
$$
forcing each element to be a conjugate of $a_1$ the following two relations can be obtained
$$ a_1^{-1}A_ka_1=(a_1^{-1} A_i a_1)A_jA_i^{-1}
$$
$$
a_1^{-3} A_k a_1^3 = (a_1^{-3} A_i a_1^3) (a_1^{-2} A_j a_1^2) (a_1^{-2} A_i^{-1} a_1^2).
$$
In $G$ both of those relations are equivalent, however in $K_G$ they are distinct. Moreover, we can write 
$$
b_{k, x}=b_{i, x}b_{j, x-1}b_{i, x-1}^{-1}
$$
to obtain infinitely many relations from $K_G$.
\end{proof}

% It was mentioned in the previous chapter, that following is an exact sequence
% \begin{center}
%   \begin{tikzcd}
%     0\arrow[r] & K^{ab}_G\arrow[r] & G^{mab}\arrow[r] & \Z\arrow[r] & 0.
%   \end{tikzcd}
% \end{center}
% For any group $H$ with $H^{ab}=\Z$ we can write a homomorphism $\Z\to H$ such that composition $\Z\to H\to \Z$ is identity on $\Z$. Thus, this sequence splits and we can write 
% $$G^{mab}=K^{ab}_G\rtimes \Z.$$ 
The action of $\Z$ on the group $K_G^{ab}$ exists by \cref{dzialanie na KG} and can be defined as follows 
$$t(b_{i, k})=b_{i, k+1}.$$
In particular, 
$$t(A_i)=a_1 A_i a_1^{-1}$$
and so the $\Z[\Z]$-module $K_G^{ab}$ is generated by $(n-1)$ elements.

Moreover, the group $G^{mab}$ and \hl{$\Z[\Z]$-module $K_G^{ab}$} can be used interchangeably thanks to the split exact sequence \eqref{split sequence metab} and \cref{dzialanie na KG}.
% as knowing the action of $\Z$ on $K_G^{ab}$ allows us to write the semidirect product of $\Z$ and $K_G^{ab}$.

% {\color{blue}
% \begin{lemma}
%   The $\Z[\Z]$ modules $K_G^{ab}$ and $G^{mab}$ (see \cref{def:metabelianization}) are isomorphic.
% \end{lemma}
%
% \begin{proof}
%   Construction presented above states that the module $K_G^{ab}$ has $(n-1)$ generators.
% \end{proof}
% }

% Notice that if $G^m$ is known, one can easily reconstruct $K_G^{ab}$ knowing that it is the $\ker(G^m\to \Z)$. Conversely, if $K_G^{ab}$ is known, then $G^m$ can be found as the middle term of the exact sequence \begin{tikzcd}[column sep=small]0\arrow[r]& K_G^{ab}\arrow[r] &? \arrow[r] & \Z\arrow[r] & 0\end{tikzcd}




